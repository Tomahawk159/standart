{% extends 'base.html' %}
{% load static %}
{% block title %}–°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤{% endblock %}
{% block content %}
    <div class="container">
        <div class="container-fluid row justify-content-between mb-2">
            <form class="col-4" method="GET" action="{% url 'employees:employees_list' %}">
                <div class="input-group">
                    <input class="form-control" type="text" name="search" value="{{ search_query }}"
                           placeholder="–ü–æ–∏—Å–∫">
                    <button class="btn btn-sm btn-outline-secondary" type="submit">–ò—Å–∫–∞—Ç—å</button>
                </div>
            </form>
            <div class="col-2 text-center">
                <a class="btn btn-sm btn-outline-secondary"
                   href="{% url 'employees:create_employee' %}">
                    –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
                </a>
            </div>
        </div>
        <table class="table table-sm table-hover">
            <thead class="thead-dark sticky-table-header">
            <tr>
                <th class="text-center">Actions</th>
                <th class="text-center"><a href="?sort_by=pk">ID</a></th>
                <th class="text-center"><a href="?sort_by=pk">–§–æ—Ç–æ</a></th>
                <th class="text-center"><a href="?sort_by=name">–ò–º—è</a></th>
                <th><a href="?sort_by=position">–î–æ–ª–∂–Ω–æ—Å—Ç—å</a></th>
                <th class="text-center"><a href="?sort_by=date_of_receipt">–î–∞—Ç–∞ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</a></th>
                <th class="text-center"><a href="?sort_by=salary">–ó–∞—Ä–ø–ª–∞—Ç–∞</a></th>
            </tr>
            </thead>
            <tbody>
            {% for employee in page_obj %}
                <tr>
                    <td class="text-center">
                        <a href="{% url 'employees:edit_employee' pk=employee.id %}"
                           class="btn btn-sm btn-outline-secondary">
                            üñå
                        </a>
                        <a href="{% url 'employees:delete_employee' pk=employee.id %}"
                           class="btn btn-sm btn-outline-secondary ml-2">
                            üóë
                        </a>
                    </td>
                    <td>{{ employee.pk }}</td>
                    <td class="text-center">
                        {% if employee.photo %}
                            <img class="employee-photo-min" src="{{ employee.photo.url }}" alt="–§–æ—Ç–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞">
                        {% else %}
                            <img class="employee-photo-min" src="{% static 'default_image.jpg' %}" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é">
                        {% endif %}
                    </td>
                    <td class="text-center">{{ employee.name }}</td>
                    <td>{{ employee.position }}</td>
                    <td>{{ employee.date_of_receipt }}</td>
                    <td>{{ employee.salary }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4">–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% include 'paginator.html' with pagination_url=request.build_absolute_uri|safe %}
    </div>
{% endblock %}
